<!DOCTYPE html>
<html>
<head>
    <meta charset='UTF-8' />
    <title>QUADRITOS</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
   <link rel="stylesheet" type="text/css" href="/modality_styles.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script>
        function showDiv(elem){
            if(elem.value == 1){
                document.getElementById('numberPlayerSelector').style.visibility = "visible";
            }else{
                document.getElementById('numberPlayerSelector').style.visibility = "hidden";
                document.getElementById('playersName').style.visibility = "hidden";
                document.getElementById('buttonStartMatch').style.visibility = "hidden";
                document.getElementById('name13').style.visibility = "hidden";
                document.getElementById('name14').style.visibility = "hidden";
            }
        }
        function showDiv2(elem){
            document.getElementById('playersName').style.visibility = "visible";
            document.getElementById('buttonStartMatch').style.visibility = "visible";
            if(elem.value == 2){
                document.getElementById('name13').style.visibility = "hidden";
                document.getElementById('name14').style.visibility = "hidden";
            }else{
                if(elem.value == 3){
                    document.getElementById('name13').style.visibility = "visible";
                    document.getElementById('name14').style.visibility = "hidden";
                }else{
                    document.getElementById('name13').style.visibility = "visible";
                    document.getElementById('name14').style.visibility = "visible";
                }
            }
        }
        function showGameRulesModal(){
            $('#showGameRulesModal').modal('show');
        }
    </script>
</head>
<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark sticky-top">
        <div class="navbar-brand"><img src="logo.jpg" height="42" width="42"/></div>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link disabled" href="/">Pagina principal</a>
                </li>
                <% if @username %>
                    <li class="nav-item">
                        <div class="nav-link disabled"><%=@username%></div>
                    </li>
                <% else %>
                    <li class="nav-item active">
                        <a class="nav-link" href="/register">Registrarse</a>
                    </li>
                <% end %>
                <li class="nav-item active" >
                    <a class="nav-link" href="#" id="gameRulesLink" onclick="showGameRulesModal()">Ver reglas</a>
                </li>
                <li class="nav-item active" >
                    <a class="nav-link" href="/scores" id="bestScores" >Mejores puntajes</a>
                </li>
                <li class="nav-item disabled" style="visibility:hidden;">
                    <div class="nav-link disabled">GoDiegoGo</div>
                </li>
            </ul>
        </div>
        </nav>
    <div class="container" style="text-align:center;">
        <form action="/game" method="get">
            <div>
             <br/>
                <h3 class="display-3">Modalidades</h3>
            </div>
            <br/>
            <div>
                <h3>Elige una modalidad para comenzar a jugar</h3>
            </div>
            <div class="form-group">
                <select class="form-control form-control-lg" id="modalitySelector" name="modality" onchange="showDiv(this)">
                    <option disabled selected value> -- selecciona una modalidad -- </option>
                    <option value="1" id="modalityPlayInSameComputer">Oponentes desde la misma PC</option>
                </select>
            </div>
            <br/>
            <div class="form-group" id="numberPlayerSelector" style="visibility: hidden;">
                <div>
                    <h3>Elige la cantidad de jugadores</h3>
                </div>
                <select class="form-control form-control-lg" id="numberPlayers" name="numberPlayers" onchange="showDiv2(this)">
                    <option disabled selected value> -- selecciona la cantidad de jugadores -- </option>
                    <option value="2">2 jugadores</option>
                    <option value="3">3 jugadores</option>
                    <option value="4">4 jugadores</option>
                </select>
            </div>
            <br/>
            <div class="form-group" id="playersName" name="playersName" style="visibility: hidden;">
                <div>
                    <h3>Ingresa los nombres de los jugadores</h3>
                </div>
                <input id="name11"  name="name11" type="text" placeholder="Jugador 1"/>
                <br/>
                <input id="name12"  name="name12" type="text" placeholder="Jugador 2"/>
                <br/>
                <input id="name13"  name="name13" type="text" placeholder="Jugador 3" style="visibility: hidden;"/>
                <br/>
                <input id="name14"  name="name14" type="text" placeholder="Jugador 4" style="visibility: hidden;"/>
                    <div class="form-group">
                    <div>
                        <h3>Elige el tamaho del tablero</h3>
                    </div>
                    <select class="form-control form-control-lg" id="numberBoardSize" name="numberBoardSize" onchange="showDiv2(this)">
                        <option disabled selected value> -- selecciona el tamaho del tablero -- </option>
                        <option value="7">7x7</option>
                        <option value="10">10x10</option>
                        <option value="15">15x15</option>
                    </select>
                </div>
            </div>
             <br/>
            <div id="buttonStartMatch"  name="buttonStartMatch" style="visibility: hidden;">
                <button type="submit" class="btn btn-warning btn-lg" style="background:rgb(255,83,64);border:rgb(255,83,64)">Empezar partida</button>
            </div>
        </form>
    </div>
    <div class="modal fade" id="showGameRulesModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="showGameRulesModalLabel">Reglas del juego</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>1. En cada jugada, de forma alternada, 
                    un jugador unirá dos puntos consecutivos horizontal o verticalmente.</p>
                    <p>2. Las líneas diagonales no son permitidas en el juego.</p>
                    <p>3. Cuando un jugador forma con estas líneas un cuadrado, gana un punto.</p>
                    <p>4. Cuando un jugador forma con estas líneas un cuadrado se lo marca 
                    con un color distintivo</p>
                    <p>5. Después de formar un cuadrado deberá dibujar una línea más, cerrando todos los 
                    cuadros que el tablero permita.</p>
                    <p>6. El jugador que se haga con más cuadrados gana la partida.</p>
                    <br/>
                    <div style="text-align: center"><img src="Reglas.jpg"/></div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>